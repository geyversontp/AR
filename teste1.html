<!DOCTYPE html>
<html>

    <script> 
	var result = location.search.substring(1).split("=");
	var result1 = location.search;
        var data = result[1];

	var end = "https://proxy.cors.sh/https://raw.githack.com/geyversontp/AR/master/";
	var endcomp = end.concat(data,".gltf");

    </script>

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/fcor/arjs-gestures/master/gesture-detector.js"></script>
    <script src="https://raw.githack.com/fcor/arjs-gestures/master/gesture-handler.js"></script>

	<script>
    window.onload = function () {
      document
        .querySelector(".say-hi-button")
        .addEventListener("click", function () {
		document.querySelector('a-scene').querySelector("#tree_model").setAttribute('gltf-model', endcomp );
        });
    };
	</script>
	<style>
    .buttons {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 5em;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

    .say-hi-button {
      padding: 0.25em;
      border-radius: 4px;
      border: none;
      background: white;
      color: black;
      width: 4em;
      height: 4em;
    }
	</style>

    <body style="margin : 0px; overflow: hidden;">


	<div class="buttons">
	    <button class="say-hi-button">New Model</button>
	</div>



        <a-scene
  	 arjs
  	 embedded
  	 renderer="logarithmicDepthBuffer: true;"
  	 vr-mode-ui="enabled: false"
  	 gesture-detector
  	 id="scene">


        <a-marker preset="hiro"
	    raycaster="objects: .clickable"
	    emitevents="true"
	    cursor="fuse: false; rayOrigin: mouse;"
	    id="markerA">

            <a-entity
	    id="tree_model"
            position="0 0 0"
            scale="0.01 0.01 0.01"
	    rotation="90 0 0"
	    gltf-model="https://proxy.cors.sh/https://raw.githack.com/AR-js-org/AR.js/master/aframe/examples/image-tracking/nft/trex/scene.gltf"
	    class="clickable"
	    gesture-handler
            ></a-entity>

	<a-text value="TExto de exemplo" scale="1 1 1" position="-1 0 -0" gesture-handler></a-text>

        </a-marker>


        <a-entity camera></a-entity>
        </a-scene>


    </body>
</html>
